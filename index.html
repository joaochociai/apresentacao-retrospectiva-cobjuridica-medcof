<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apresenta√ß√£o MEDCOF 2025</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/black.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        /* --- Customiza√ß√£o Geral --- */
        :root {
            --bg-color: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.6);
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --accent-green: #4ade80;
            --accent-gold: #facc15;
            --accent-blue: #38bdf8;
            --accent-special: #c084fc;
            --accent-red: #ef4444;
        }

        body { background-color: var(--bg-color); }

        /* Fundo Animado */
        .ambient-light {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; pointer-events: none;
        }
        .blob { position: absolute; filter: blur(90px); opacity: 0.4; animation: move 20s infinite alternate; }
        .blob-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: var(--accent-blue); }
        .blob-2 { bottom: -10%; right: -10%; width: 60vw; height: 60vw; background: #4f46e5; animation-duration: 30s; }
        @keyframes move { from { transform: translate(0,0); } to { transform: translate(40px, -40px); } }

        /* Overrides do Reveal.js para o design Medcof */
        .reveal { color: var(--text-primary); font-family: 'Inter', sans-serif; z-index: 1; }
        .reveal .slides section { padding: 20px; }
        
        /* Typography */
        .reveal h1, .reveal h2, .reveal h3 { text-transform: none; font-family: 'Inter', sans-serif; font-weight: 800; }
        .gradient-text {
            background: linear-gradient(135deg, var(--accent-blue), #ffffff, var(--accent-green));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        /* Cards Style */
        .grid-container {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem;
            width: 100%; margin-top: 2rem;
        }
        .card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }
        .card:hover { border-color: var(--accent-blue); transform: translateY(-5px); }
        
        .card-label { 
            font-size: 1rem; color: var(--text-secondary); text-transform: uppercase; 
            letter-spacing: 2px; margin-bottom: 10px; display: block;
        }
        .card-value { 
            font-family: 'JetBrains Mono', monospace; font-size: 3rem; font-weight: 700; display: block;
        }

        /* Cores Espec√≠ficas */
        .text-green { color: var(--accent-green); text-shadow: 0 0 20px rgba(74, 222, 128, 0.3); }
        .text-gold { color: var(--accent-gold); }
        .text-red { color: var(--accent-red); }
        .text-special { color: var(--accent-special); }

        /* Helpers */
        .logo-img { width: 250px; margin-bottom: 30px; filter: drop-shadow(0 0 15px rgba(56,189,248,0.3)); }
        .small-text { font-size: 0.6em; opacity: 0.7; }
        
        /* Gr√°fico Donut Customizado */
        .donut-chart {
            width: 250px; height: 250px; margin: 0 auto; border-radius: 50%;
            background: conic-gradient(var(--accent-red) 0% 15%, var(--accent-gold) 15% 37.5%, var(--accent-green) 37.5% 100%);
            display: flex; justify-content: center; align-items: center;
        }
        .donut-hole {
            width: 180px; height: 180px; background: #182030; border-radius: 50%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }

        /* Barras do Funil */
        .funnel-row {
            display: flex; align-items: center; margin-bottom: 15px;
            background: rgba(255,255,255,0.05); padding: 10px; border-radius: 8px;
        }
        .funnel-bar { height: 10px; border-radius: 5px; margin-right: 15px; transition: width 1s ease; }

    </style>
</head>
<body>

    <div class="ambient-light">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <div class="reveal">
        <div class="slides">

            <section data-transition="zoom">
                <img src="logo.png" alt="Medcof" class="logo-img">
                <h1>Retrospectiva<br><span class="gradient-text">Jur√≠dica 2025</span></h1>
                <p style="color: var(--text-secondary); margin-top: 20px;">Resultados Consolidados da Opera√ß√£o</p>
                <div style="margin-top: 40px; padding: 10px 30px; border: 1px solid var(--text-secondary); border-radius: 50px; display: inline-block; font-size: 0.6em;">
                    Ref: 01/01/2025 a 05/01/2026
                </div>
            </section>

            <section data-transition="convex">
                <h2 style="margin-bottom: 50px;">O Cen√°rio Macro</h2>
                <div class="grid-container">
                    <div class="card fragment fade-up">
                        <span class="card-label">D√©bito Trabalhado</span>
                        <span class="card-value">R$ 6.0 MM</span>
                        <p class="small-text">Carteira Total Acionada</p>
                    </div>
                    <div class="card fragment fade-up">
                        <span class="card-label">Performance</span>
                        <span class="card-value text-gold count-up-perc" data-target="24.31">0%</span>
                        <p class="small-text">Taxa de Recupera√ß√£o Global</p>
                    </div>
                </div>
                <div class="card fragment fade-up" style="margin-top: 2rem; border-color: var(--accent-red);">
                    <span class="card-label">Inadimpl√™ncia Atual em Trabalho</span>
                    <span class="card-value text-red">R$ 2.5 MM</span>
                </div>
            </section>

            <section data-transition="zoom" data-background-color="rgba(15, 23, 42, 0.95)" id="slide-winner">
                <h2 style="color: var(--accent-green);">Resultado Financeiro</h2>
                <p>Valor total devolvido ao caixa da empresa</p>
                
                <div style="margin-top: 60px; transform: scale(1.2);">
                    <span style="font-size: 1.5rem; letter-spacing: 3px; text-transform: uppercase; color: #fff;">Total Recuperado</span>
                    <div class="card-value text-green count-up-currency" data-target="1455240.50" style="font-size: 5rem; margin-top: 20px;">
                        R$ 0,00
                    </div>
                </div>
            </section>

            <section data-transition="slide">
                <h2 style="color: var(--accent-special);">Destaque: Mutir√£o Ago/25</h2>
                <p class="small-text">Campanha de Alta Intensidade</p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 40px;">
                    <div class="card" style="border-color: var(--accent-special);">
                        <span class="card-label">Recuperado (Campanha)</span>
                        <span class="card-value text-special count-up-currency" data-target="128561.18">R$ 0</span>
                    </div>
                    <div class="card">
                        <span class="card-label">Convers√£o</span>
                        <span class="card-value text-special count-up-perc" data-target="10.01">0%</span>
                    </div>
                </div>
                
                <div style="display: flex; justify-content: space-around; margin-top: 40px; font-size: 0.8em;">
                    <div>
                        <span class="card-label">Inadimpl√™ncia Alvo</span>
                        <strong class="count-up-currency" data-target="1201276.82">R$ 0</strong>
                    </div>
                    <div>
                        <span class="card-label">Participantes</span>
                        <strong class="count-up-int" data-target="304">0</strong>
                    </div>
                    <div>
                        <span class="card-label">Descontos</span>
                        <strong class="count-up-currency" data-target="107194.07">R$ 0</strong>
                    </div>
                </div>
            </section>

            <section data-transition="convex">
                <h3>Efici√™ncia do Funil</h3>
                <div style="text-align: left; max-width: 800px; margin: 40px auto;">
                    
                    <div class="fragment fade-right">
                        <p style="margin-bottom: 5px;">üìû Negocia√ß√µes Iniciadas</p>
                        <div class="funnel-row">
                            <div class="funnel-bar" style="width: 100%; background: var(--accent-blue);"></div>
                            <strong class="count-up-int" data-target="1689">0</strong>
                        </div>
                    </div>

                    <div class="fragment fade-right">
                        <p style="margin-bottom: 5px;">ü§ù Acordos Firmados</p>
                        <div class="funnel-row">
                            <div class="funnel-bar" style="width: 56%; background: var(--accent-green);"></div>
                            <strong class="count-up-int" data-target="950">0</strong>
                        </div>
                    </div>

                    <div class="fragment fade-right">
                        <p style="margin-bottom: 5px;">üìÑ Termos Gerados</p>
                        <div class="funnel-row">
                            <div class="funnel-bar" style="width: 15%; background: var(--accent-gold);"></div>
                            <strong class="count-up-int" data-target="97">0</strong>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <h3 style="color: var(--accent-red);">Cancelamentos</h3>
                
                <div style="display: flex; align-items: center; justify-content: center; gap: 50px; margin-top: 40px;">
                    <div class="donut-chart">
                        <div class="donut-hole">
                            <span style="font-size: 3rem; font-weight: 800;">40</span>
                            <span style="font-size: 0.8rem; text-transform: uppercase;">Total</span>
                        </div>
                    </div>

                    <div style="text-align: left; display: flex; flex-direction: column; gap: 20px;">
                        <div class="fragment fade-left">
                            <span style="display:block; font-size: 1.5rem; color: var(--accent-green); font-weight: bold;">25</span>
                            <span class="small-text">Com Pagamento (Recupera√ß√£o Parcial)</span>
                        </div>
                        <div class="fragment fade-left">
                            <span style="display:block; font-size: 1.5rem; color: var(--accent-gold); font-weight: bold;">9</span>
                            <span class="small-text">Sem √înus (Neutro)</span>
                        </div>
                        <div class="fragment fade-left">
                            <span style="display:block; font-size: 1.5rem; color: var(--accent-red); font-weight: bold;">6</span>
                            <span class="small-text">Com Reembolso (Sa√≠da de Caixa)</span>
                        </div>
                    </div>
                </div>
            </section>

            <section data-transition="zoom">
                <h1>Obrigada</h1>
                <p style="color: var(--text-secondary);">Departamento Jur√≠dico Medcof</p>
                <br>
                <small>06/01/2026</small>
            </section>

        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    <script>
        // Inicializa√ß√£o do Reveal.js
        Reveal.initialize({
            controls: true,
            progress: true,
            center: true,
            hash: true,
            transition: 'convex', // none/fade/slide/convex/concave/zoom
            backgroundTransition: 'fade'
        });

        // Formatador de Moeda
        const currencyFormatter = new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' });

        // Fun√ß√£o de Anima√ß√£o Num√©rica
        function animateValue(obj, start, end, duration, type) {
            if(obj.getAttribute('data-animated') === 'true') return; // Evita reanimar
            obj.setAttribute('data-animated', 'true');

            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const easeOutQuart = 1 - Math.pow(1 - progress, 4);
                let current = easeOutQuart * (end - start) + start;
                
                if(type === 'perc') obj.innerHTML = current.toFixed(2).replace('.', ',') + "%";
                else if (type === 'int') obj.innerHTML = Math.floor(current);
                else if (type === 'currency') obj.innerHTML = currencyFormatter.format(current);
                
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                } else {
                    if(type === 'perc') obj.innerHTML = end.toFixed(2).replace('.', ',') + "%";
                    if(type === 'int') obj.innerHTML = end;
                    if(type === 'currency') obj.innerHTML = currencyFormatter.format(end);
                }
            };
            window.requestAnimationFrame(step);
        }

        // Gatilho: Quando o slide muda
        Reveal.on('slidechanged', event => {
            const currentSlide = event.currentSlide;

            // 1. Animar n√∫meros que est√£o no slide atual
            currentSlide.querySelectorAll('.count-up-perc').forEach(el => animateValue(el, 0, parseFloat(el.dataset.target), 2000, 'perc'));
            currentSlide.querySelectorAll('.count-up-int').forEach(el => animateValue(el, 0, parseInt(el.dataset.target), 2000, 'int'));
            currentSlide.querySelectorAll('.count-up-currency').forEach(el => animateValue(el, 0, parseFloat(el.dataset.target), 2500, 'currency'));

            // 2. Disparar Confetes se for o slide do "Vencedor"
            if(currentSlide.id === 'slide-winner') {
                triggerConfetti();
            }
        });

        // Fun√ß√£o de Confetes
        function triggerConfetti() {
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 999 };

            var randomInOut = function(min, max) { return Math.random() * (max - min) + min; };

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) { return clearInterval(interval); }
                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInOut(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInOut(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }

        // Checar anima√ß√£o no primeiro load (caso o primeiro slide tenha n√∫meros)
        window.onload = function() {
           // O evento slidechanged n√£o dispara no load inicial, ent√£o for√ßamos a verifica√ß√£o
           const currentSlide = Reveal.getCurrentSlide();
           if(currentSlide) {
                // Mesma l√≥gica do evento
           }
        };

    </script>
</body>
</html>
